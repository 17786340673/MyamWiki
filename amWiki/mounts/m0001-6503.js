if(typeof AWPageMounts=='undefined'){AWPageMounts={}};AWPageMounts['m0001']=[{"name":"01-Linux新建hadoop用户.md","path":"0001-大数据/01-搭建hadoop平台/1-linux基础环境/01-Linux新建hadoop用户.md","content":"# Linux新建hadoop用户\r\n>维护人员：**高俊**  \r\n>创建时间：2022-04-12\r\n\r\n## <font color=#C71585>建立用户组</font>\r\n```shell\r\n  [root@localhost ~]$ groupadd hadoop\r\n```\r\n## <font color=#C71585>新建hadoop用户并添加到用户组</font>\r\n```shell\r\n [root@localhost ~]$ useradd -g hadoop hadoop\r\n [root@localhost ~]$ useradd -g hadoop hue\r\n```\r\n## <font color=#C71585>设置用户密码</font>\r\n```shell\r\n[root@localhost ~]$ passwd hadoop   然后输入密码（密码）\r\n[root@localhost ~]$ passwd hue  然后输入密码（密码）\r\n```\r\n## <font color=#C71585>配置hadoop用户具有sudo权限</font>\r\n```shell\r\n[root@localhost ~]$ usermod -G wheel hadoop\r\n[root@localhost ~]$ usermod -G wheel hue\r\n```\r\n## <font color=#C71585>配置hadoop用户sudo不需要密码</font>\r\n```shell\r\n[hadoop@hadoop001 ~]$ sudo vim /etc/sudoers\r\n##添加\r\n##\thadoop  ALL=(ALL) NOPASSWD: ALL\r\n##放开限制\r\n##  ## Same thing without a password\r\n##\t%wheel  ALL=(ALL)       NOPASSWD: ALL\r\n##测试\r\n[hadoop@hadoop001 ~]$ sudo su - root\r\n##Last login: Wed Jan  5 16:51:55 CST 2022 on pts/1\r\n[root@hadoop001 ~]$ exit\r\n```\r\n## <font color=#C71585>在/opt目录下创建文件夹，并修改所属主和所属组</font>\r\n```shell\r\n## 在/opt目录下创建module、software文件夹\r\n[root@test-hadoop001 ~]# mkdir /opt/module\r\n[root@test-hadoop001 ~]# mkdir /opt/software\r\n[root@test-hadoop001 ~]# mkdir /mnt/hadoop\r\n[root@test-hadoop001 ~]# mkdir /tmp/hive\r\n## 修改module、software文件夹的所有者和所属组均为hadoop用户\r\n[root@test-hadoop001 ~]# chown hadoop:hadoop /opt/module\r\n[root@test-hadoop001 ~]# chown hadoop:hadoop /opt/software\r\n[root@test-hadoop004 ~]# chown hadoop:hadoop /mnt/hadoop\r\n[root@test-hadoop004 ~]# chown hadoop:hadoop /tmp/hive\r\n```\r\n## <font color=#C71585>关闭防火墙，关闭防火墙开机自启</font>\r\n```shell\r\n[root@localhost opt]$ systemctl stop firewalld\r\n[root@localhost opt]$ systemctl disable firewalld.service\r\n```\r\n## <font color=#C71585>查看防火墙状态</font>\r\n```shell\r\n[hadoop@hadoop001 logs]$ firewall-cmd --state\r\n```\r\n## <font color=#C71585>重启机器</font>\r\n```shell\r\n[root@localhost opt]$ reboot\r\n```\r\n## <font color=#C71585>安装telnet/vim</font>\r\n```shell\r\n[hadoop@test-hadoop001 logs]$ sudo yum install telnet\r\n[hadoop@test-hadoop001 logs]$ sudo yum install vim*\r\n```\r\n","timestamp":1649734317474},{"name":"02-修改主机名称和ip映射.md","path":"0001-大数据/01-搭建hadoop平台/1-linux基础环境/02-修改主机名称和ip映射.md","content":"# 修改主机名称和ip映射\r\n>维护人员：**高俊**  \r\n>创建时间：2022-04-12\r\n\r\n## <font color=#C71585>修改主机名称</font>\r\n```shell\r\nsudo vim /etc/hostname\r\n\r\ntest-hadoop001(localhost.localdomain)\r\ntest-hadoop002(localhost.localdomain)\r\ntest-hadoop003(localhost.localdomain)\r\n```\r\n## <font color=#C71585>修改ip映射</font>\r\n```shell\r\n[hadoop@localhost ~]$ sudo vim /etc/hosts\r\n192.168.20.201 test-hadoop001\r\n192.168.20.202 test-hadoop002\r\n192.168.20.203 test-hadoop003\r\n```\r\n## <font color=#C71585>重启3台机器</font>\r\n```shell\r\n[hadoop@localhost ~]$ sudo su - root\r\n[root@localhost ~]$ reboot\r\n```\r\n","timestamp":1649734317474},{"name":"03-修改openfiles和max user processes.md","path":"0001-大数据/01-搭建hadoop平台/1-linux基础环境/03-修改openfiles和max user processes.md","content":"# 修改openfiles和max user processes\r\n>维护人员：**高俊**  \r\n>创建时间：2022-04-12\r\n\r\n```shell\r\n[hadoop@localhost ~]$ sudo vim  /etc/security/limits.d/20-nproc.conf\r\n*          soft    nproc     65535\r\nroot       soft    nproc     unlimited\r\n[hadoop@localhost ~]$ sudo vim /etc/security/limits.conf\r\nroot soft nofile 65535\r\nroot hard nofile 65535\r\n* soft nofile 65535\r\n* hard nofile 65535\r\n* soft noproc 65535\r\n* hard noproc 65535\r\n\r\n```\r\n* 断开重连，ulimit -a验证是否修改成功\r\n","timestamp":1649734317474},{"name":"04-Hadoop-SSH免密登录.md","path":"0001-大数据/01-搭建hadoop平台/1-linux基础环境/04-Hadoop-SSH免密登录.md","content":"# Hadoop-SSH免密登录\r\n>维护人员：**高俊**  \r\n>创建时间：2022-04-12\r\n\r\n## <font color=#C71585>每台机器执行，生成公钥和私钥</font>\r\n```shell\r\n[hadoop@test-hadoop001 ~]$ ssh-keygen -t rsa\r\n[hadoop@test-hadoop001 ~]$ chmod 700 .ssh\r\n[hadoop@test-hadoop001 ~]$ chmod 600 authorized_keys\r\n```\r\n## <font color=#C71585>在test-Hadoop001执行</font>\r\n```shell\r\n[hadoop@test-hadoop001 .ssh]$ cat id_rsa.pub >> authorized_keys\r\n[hadoop@test-hadoop001 .ssh]$ chmod 600 authorized_keys\r\n```\r\n## <font color=#C71585>将test-hadoop002、test-hadoop004的id_rsa.pub写入到hadoop001的authorized_keys文件中</font>\r\n```shell\r\n[hadoop@test-hadoop001 .ssh]$ vim authorized_keys\r\n```\r\n## <font color=#C71585>密钥分发复制</font>\r\n```shell\r\n[hadoop@test-hadoop002 .ssh]$ scp hadoop001:/home/hadoop/.ssh/authorized_keys /home/hadoop/.ssh/\r\n```\r\n","timestamp":1649734317474},{"name":"05-安装JAVA环境.md","path":"0001-大数据/01-搭建hadoop平台/1-linux基础环境/05-安装JAVA环境.md","content":"# 安装JAVA环境\r\n>维护人员：**高俊**  \r\n>创建时间：2022-04-12\r\n\r\n## <font color=#C71585>从其他机器上复制java安装包/font>\r\n```shell\r\n[hadoop@test-hadoop001 module]$ scp 192.168.20.206:/opt/software/jdk-8u212-linux-x64.tar.gz /opt/software/\r\n[hadoop@test-hadoop002 module]$ scp 192.168.20.181:/opt/software/jdk-8u212-linux-x64.tar.gz /opt/software/\r\n[hadoop@test-hadoop004 module]$ scp 192.168.20.181:/opt/software/jdk-8u212-linux-x64.tar.gz /opt/software/\r\n```\r\n## <font color=#C71585>解压安装包</font>\r\n```shell\r\n[hadoop@test-hadoop001 module]$ tar -zxvf /opt/software/jdk-8u212-linux-x64.tar.gz -C /opt/module/\r\n```\r\n## <font color=#C71585>新建java配置文件</font>\r\n```shell\r\nsudo vim /etc/profile.d/my_env.sh\r\n## JAVA_HOME\r\nexport JAVA_HOME=/opt/module/jdk1.8.0_212\r\nexport PATH=$PATH:$JAVA_HOME/bin\r\n[hadoop@test-hadoop001 module]$ source /etc/profile\r\n```\r\n## <font color=#C71585>验证java环境</font>\r\n```shell\r\n[hadoop@test-hadoop001 module]$ java -version\r\n```\r\n","timestamp":1649734317474},{"name":"06-设置并同步时间-root用户.md","path":"0001-大数据/01-搭建hadoop平台/1-linux基础环境/06-设置并同步时间-root用户.md","content":"# 设置并同步时间-root用户\r\n>维护人员：**高俊**  \r\n>创建时间：2022-04-12\r\n\r\n## <font color=#C71585>安装ntp</font>\r\n```shell\r\nyum install -y ntp\r\n```\r\n## <font color=#C71585>与一个已知的时间服务器同步</font>\r\n```shell\r\n# time.nist.gov 是一个时间服务器\r\n# time.nist.gov\r\n# time.nuri.net\r\n# 0.asia.pool.ntp.org\r\n# 1.asia.pool.ntp.org\r\n# 2.asia.pool.ntp.org\r\n# 3.asia.pool.ntp.org\r\nntpdate time.nist.gov\r\n```\r\n## <font color=#C71585>删除本地时间并设置时区为上海</font>\r\n```shell\r\nrm -rf /etc/localtime\r\nln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\r\n```\r\n","timestamp":1649734317474}]